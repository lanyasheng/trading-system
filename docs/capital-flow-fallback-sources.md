# èµ„é‡‘æµæ•°æ®æºé™çº§é“¾è·¯

## å½“å‰çŠ¶æ€ (2026-02-27)

### ä¸»åŠ›èµ„é‡‘å‡€æµå…¥

| æ•°æ®æº | çŠ¶æ€ | æ•°æ®ç±»å‹ | é™çº§é¡ºåº | å¤‡æ³¨ |
|--------|------|---------|---------|------|
| **ä¸œæ–¹è´¢å¯Œ** | âš ï¸ ä¸ç¨³å®š | ä¸»åŠ›/è¶…å¤§å•/å¤§å•/ä¸­å•/å°å• | 1ï¸âƒ£ ä¸»æ•°æ®æº | å¶å°” Server disconnected |
| **åŒèŠ±é¡º** | âœ… ç¨³å®š | åˆ†é’Ÿçº§èµ„é‡‘æµ | 2ï¸âƒ£ é™çº§ | æ— ä¸»åŠ›åˆ†ç±»ï¼Œåªæœ‰æˆäº¤é¢ |
| **è…¾è®¯** | âœ… ç¨³å®š | å†…å¤–ç›˜å·® | 3ï¸âƒ£ é™çº§ | ç®€åŒ–ç‰ˆï¼Œåªæœ‰å†…å¤–ç›˜æˆäº¤é‡å·® |
| **AKShare** | ğŸ” å¾…å®ç° | ä¸»åŠ›/æ•£æˆ· | 4ï¸âƒ£ å¤‡é€‰ | å¤šæ•°æ®æºèšåˆ |
| **æ–°æµªè´¢ç»** | ğŸ” å¾…å®ç° | èµ„é‡‘æµå‘ | 5ï¸âƒ£ å¤‡é€‰ | æ–°æµªè´¢ç»èµ„é‡‘æµæ¥å£ |

### åŒ—å‘èµ„é‡‘ (æ²ªæ·±æ¸¯é€š)

| æ•°æ®æº | çŠ¶æ€ | æ•°æ®ç±»å‹ | é™çº§é¡ºåº | å¤‡æ³¨ |
|--------|------|---------|---------|------|
| **ä¸œæ–¹è´¢å¯Œ** | âœ… å·²ä¿®å¤ | æ²ªè‚¡é€š/æ·±è‚¡é€šå‡€æµå…¥ | 1ï¸âƒ£ ä¸»æ•°æ®æº | ä¹‹å‰æœ‰'-'è§£æ bugï¼Œå·²ä¿®å¤ |

### åˆ†é’Ÿçº§èµ„é‡‘æµ

| æ•°æ®æº | çŠ¶æ€ | æ•°æ®ç±»å‹ | é™çº§é¡ºåº | å¤‡æ³¨ |
|--------|------|---------|---------|------|
| **åŒèŠ±é¡º** | âœ… ç¨³å®š | 121 ä¸ªæ•°æ®ç‚¹/å¤© | 1ï¸âƒ£ ä¸»æ•°æ®æº | æœ€è¯¦ç»† |
| **ä¸œæ–¹è´¢å¯Œ** | âœ… å·²å®ç° | è‡ªå®šä¹‰ K çº¿æ•°é‡ | 2ï¸âƒ£ é™çº§ | åŒ…å«ä¸»åŠ›åˆ†ç±» |
| **è…¾è®¯** | âš ï¸ ç®€åŒ–ç‰ˆ | å†…å¤–ç›˜å·® | 3ï¸âƒ£ é™çº§ | å¾…å®ç° |

---

## å¾…å®ç°æ•°æ®æº

### 1. AKShare (å¼€æºè´¢ç»æ•°æ®æ¥å£åº“)

**GitHub**: https://github.com/akfamily/akshare

**èµ„é‡‘æµç›¸å…³æ¥å£**:
```python
import akshare as ak

# ä¸ªè‚¡èµ„é‡‘æµ
ak.stock_individual_fund_flow(symbol="002202")

# è¡Œä¸šèµ„é‡‘æµ
ak.stock_sector_fund_flow_rank(indicator="ä»Šæ—¥")

# æ¦‚å¿µèµ„é‡‘æµ
ak.stock_concept_fund_flow_rank(indicator="ä»Šæ—¥")

# åŒ—å‘èµ„é‡‘
ak.stock_hsgt_fund_flow_summary_em()
```

**ä¼˜ç‚¹**:
- å¼€æºå…è´¹
- æ•°æ®æºå¤šæ ·åŒ– (ä¸œè´¢/æ–°æµª/åŒèŠ±é¡ºç­‰)
- ç¤¾åŒºæ´»è·ƒ

**ç¼ºç‚¹**:
- éœ€è¦å®‰è£… akshare åŒ…
- API å¯èƒ½å˜åŒ–

### 2. æ–°æµªè´¢ç»èµ„é‡‘æµ

**æ¥å£**:
```
https://money.finance.sina.com.cn/corp/view/vCB_AllBulletinDetail.php?stockid={code}
```

**æ•°æ®ç±»å‹**: ä¸»åŠ›èµ„é‡‘å‡€æµå…¥ã€æ•£æˆ·èµ„é‡‘æµ

### 3. è…¾è®¯è´¢ç»èµ„é‡‘æµ

**æ¥å£**:
```
https://web.sqt.gtimg.cn/q={code}
```

**æ•°æ®ç±»å‹**: å†…å¤–ç›˜æˆäº¤é‡ã€ä¹°å–ç›˜å£

---

## å½“å‰èµ„é‡‘è¯„åˆ†é€»è¾‘

**è¯„åˆ†æƒé‡** (`mcp-server/analysis/scoring.py`):
```python
w_tech = 0.25      # æŠ€æœ¯é¢
w_cap = 0.30       # èµ„é‡‘é¢
w_fund = 0.10      # åŸºæœ¬é¢
w_sent = 0.20      # æ–°é—»æƒ…ç»ª
w_mkt = 0.15       # å¸‚åœºæƒ…ç»ª
```

**èµ„é‡‘é¢è¯„åˆ†** (`mcp-server/analysis/capital_flow.py`):
- é‡æ¯” (volume_ratio): +2~+8 åˆ†
- æ¢æ‰‹ç‡ (turnover_rate): +1~+3 åˆ†
- æˆäº¤é¢å¯¹æ¯” (amount_ratio): +2~+5 åˆ†
- ä¹°å–ä»·å·® (spread_pct): +2 åˆ†
- **ä¸»åŠ›èµ„é‡‘å‡€æµå…¥**: Â±5~Â±10 åˆ† (å½“å‰ç¼ºå¤±)
- è¶…å¤§å•å‡€æµå…¥: Â±3 åˆ† (å½“å‰ç¼ºå¤±)

**å½“å‰é—®é¢˜**: ä¸œæ–¹è´¢å¯Œä¸»åŠ›æ¥å£ä¸ç¨³å®šï¼Œå¯¼è‡´èµ„é‡‘è¯„åˆ†ç¼ºå¤±ä¸»åŠ›æ•°æ®éƒ¨åˆ†ã€‚

---

## ä¿®å¤è®¡åˆ’

### çŸ­æœŸ (æœ¬å‘¨)

1. âœ… **ç§»é™¤ä¸å¿…è¦çš„ç¼“å­˜é…ç½®** - ç›‘æ§ 10 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œä¸éœ€è¦ 5 åˆ†é’Ÿç¼“å­˜
2. âœ… **ä¿®å¤åŒ—å‘èµ„é‡‘æ¥å£** - å·²ä¿®å¤'-'è§£æ bug
3. â³ **å¢åŠ ä¸œæ–¹è´¢å¯Œé‡è¯•æœºåˆ¶** - å¤±è´¥åè‡ªåŠ¨é‡è¯• 2 æ¬¡
4. â³ **å®ç°è…¾è®¯å†…å¤–ç›˜å·®ä½œä¸ºä¸»åŠ›æ›¿ä»£** - å½“ä¸»åŠ›æ•°æ®ç¼ºå¤±æ—¶ä½¿ç”¨

### ä¸­æœŸ (ä¸‹å‘¨)

1. â³ **é›†æˆ AKShare ä½œä¸ºå¤‡é€‰æ•°æ®æº**
   - å®‰è£… akshare åŒ…
   - å®ç° `ak_share_source.py`
   - æ·»åŠ åˆ°é™çº§é“¾è·¯

2. â³ **å®ç°æ–°æµªè´¢ç»èµ„é‡‘æµ**
   - è§£æ HTML/JSON
   - è·å–ä¸»åŠ›/æ•£æˆ·èµ„é‡‘æµ

3. â³ **å¢åŠ ç¼“å­˜å±‚** (çœŸæ­£æœ‰ç”¨çš„åœºæ™¯)
   - åŒä¸€æ ‡çš„ 5 åˆ†é’Ÿå†…ä¸é‡å¤è°ƒç”¨
   - å‡å°‘ API è°ƒç”¨é¢‘ç‡

### é•¿æœŸ

1. â³ **è‡ªå»ºæ•°æ®æº**
   - çˆ¬å–å„å¤§è´¢ç»ç½‘ç«™
   - å­˜å‚¨åˆ°æœ¬åœ°æ•°æ®åº“
   - æä¾›ç»Ÿä¸€ API

2. â³ **Moltbook MCP æœåŠ¡å™¨**
   - æœç´¢ç°æœ‰çš„ MCP æœåŠ¡å™¨
   - æˆ–è‡ªå»ºèµ„é‡‘æµ MCP æœåŠ¡

---

## ç›‘æ§è„šæœ¬èµ„é‡‘å¼‚åŠ¨æ ‡å‡† (å·²æ›´æ–°)

| å¼‚åŠ¨ç±»å‹ | å¤§ç›˜è‚¡/ETF | ä¸­ç›˜è‚¡ | å°ç›˜è‚¡ |
|---------|-----------|--------|--------|
| æ¶¨è·Œå¹… | >1.2% | >2.0% | >3.5% |
| é‡æ¯” | >1.5 | >1.8 | >2.0 |
| æˆäº¤é¢ | >50 äº¿ | >20 äº¿ | >5 äº¿ |
| æŒ¯å¹… | >2% | >3% | >5% |

**è§¦å‘ capital_flow åˆ†æ** â†’ è¾“å‡ºï¼š
- æˆäº¤é¢ï¼šXX äº¿
- ä¸»åŠ›èµ„é‡‘ï¼šå‡€æµå…¥/æµå‡º XX ä¸‡ (è¶…å¤§å•/å¤§å•/ä¸­å•/å°å•åˆ†å¸ƒ)
- æœ€å 10 åˆ†é’Ÿï¼šæµå…¥/æµå‡º/å¹³ç¨³
- æ•°æ®æ¥æºï¼šåŒèŠ±é¡º/ä¸œæ–¹è´¢å¯Œ/è…¾è®¯

---

## æµ‹è¯•å‘½ä»¤

```bash
# æµ‹è¯•ä¸ªè‚¡èµ„é‡‘æµ
./mcp-server/.venv/bin/python3 ./skills/trading-quant/scripts/quant.py capital_flow 002202

# æµ‹è¯•åŒ—å‘èµ„é‡‘
./mcp-server/.venv/bin/python3 ./skills/trading-quant/scripts/quant.py northbound_flow

# æµ‹è¯•ä¸ªè‚¡è¯„åˆ† (å«èµ„é‡‘é¢)
./mcp-server/.venv/bin/python3 ./skills/trading-quant/scripts/quant.py stock_analysis 002202
```

---

*æœ€åæ›´æ–°ï¼š2026-02-27 | äº¤æ˜“èœ˜è››æ•°æ®æºæ–‡æ¡£*
